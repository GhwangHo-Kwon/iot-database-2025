/* 과제 3 데이터 입력(INSERT)
		생성된 5개의 테이블에 다음과 같은 정보를 입력.
        각 테이블 컬럼의 데이터 타입 및 사이즈를 확인 후 데이터 입력.
*/
-- EX) 의사 테이블에 데이터를 입력하는 경우
insert into Doctors
	   values (070576, '피부과', '홍길동', 'M', '010-333-7263', 'lja@hanbh.com', '전문의');
select * from Doctors;

-- Doctors 테이블
insert into Doctors
	   values (980312, '소아과', '이태정', 'M', '010-333-1340', 'ltj@hanbh.com', '과장')
		    , (000601, '내과', '안성기', 'M', '010-222-0987', 'ask@hanbh.com', '과장')
            , (001208, '외과', '김민종', 'M', '010-333-8743', 'kmj@han.com', '과장')
            , (020403, '피부과', '이태서', 'M', '010-777-3764', 'lts@hanbh.com', '과장')
            , (050900, '소아과', '김연아', 'F', '010-555-3746', 'kya@habhn.com', '전문의')
            , (050101, '내과', '차태현', 'M', '010-222-7643', 'cth@hanbh.com', '전문의')
            , (062019, '소아과', '전지현', 'F', '010-999-1265', 'jh@hanbh.com', '전문의')
            , (070576, '피부과', '홍길동', 'M', '010-333-7263', 'hgd@hanbh.com', '전문의')
            , (080543, '방사선과', '유재석', 'M', '010-222-1263', 'yjs@hanbh.com', '과장')
            , (091001, '외과', '김병만', 'M', '010-555-3542', 'kbm@hanbh.com', '전문의');
select * from Doctors;

-- Nurses 테이블
insert into Nurses
	   values (050302, '소아과', '김은영', 'F', '010-555-8751', 'key@hanbh.com', '수간호사')
		    , (050021, '내과', '윤성애', 'F', '010-333-8745', 'ysa@hanbh.com', '수간호사')
            , (040089, '피부과', '신지원', 'M', '010-666-7646', 'sjw@hanbh.com', '주임')
            , (070605, '방사선과', '유정화', 'F', '010-333-4588', 'yjh@hanbh.com', '주임')
            , (070804, '내과', '라하나', 'F', '010-222-1340', 'nhn@habhn.com', '주임')
            , (071018, '소아과', '김화경', 'F', '010-888-4116', 'khk@hanbh.com', '간호사')
            , (100356, '소아과', '이선용', 'M', '010-777-1234', 'lsy@hanbh.com', '간호사')
            , (104145, '외과', '김현', 'M', '010-999-8520', 'kh@hanbh.com', '간호사')
            , (120309, '피부과', '박성완', 'M', '010-777-4996', 'psw@hanbh.com', '간호사')
            , (130211, '외과', '이서연', 'F', '010-222-3214', 'lsy2@hanbh.com', '간호사');
select * from Nurses;

-- Patients 테이블
insert into Patients
	   values (2345, '안상건', 'M', 232345, '서울', '010-555-7845', 'ask@ab.com', '회사원', 980312, 050302)
		    , (3545, '김성룡', 'M', 543545, '서울', '010-333-7812', 'ksr@bb.com', '자영업', 020403, 040089)
            , (3424, '이종진', 'M', 433424, '부산', '010-888-4859', 'ljj@ab.com', '회사원', 080543, 070605)
            , (7675, '최광석', 'M', 677675, '당진', '010-222-4847', 'cks@cc.com', '회사원', 050900, 100356)
            , (4533, '정한경', 'M', 744533, '강릉', '010-777-9630', 'jhk@ab.com', '교수', 000601, 070804)
            , (5546, '유원현', 'M', 765546, '대구', '010-777-0214', 'ywh@cc.com', '자영업', 070576, 120309)
            , (4543, '최재정', 'M', 454543, '부산', '010-555-4187', 'cjj@bb.com', '회사원', 050101, 070804)
            , (9768, '이진희', 'F', 19768, '서울', '010-888-3675', 'ljh@ab.com', '교수', 091001, 130211)
            , (4234, '오나미', 'F', 234234, '속초', '010-999-6541', 'onm@cc.com', '학생', 091001, 130211)
            , (7643, '송성묵', 'M', 987643, '서울', '010-222-5874', 'ssm@bb.com', '학생', 062019, 071018);
select * from Patients;

-- Treatments 테이블
insert into Treatments
	   values (130516023, '감기, 몸살', 20230516, 980312, 2345)
		    , (130628100, '피부 트러블 치료', 20230628, 020403, 3545)
            , (131205056, '목 디스크로 MRI 촬영', 20231205, 080543, 3424)
            , (131218024, '중이염', 20231218, 050900, 7675)
            , (131224012, '장염', 20231224, 000601, 4533)
            , (140103001, '여드름 치료', 20240103, 070576, 5546)
            , (140109026, '위염', 20240109, 050101, 4543)
            , (140226102, '화상 치료', 20240226, 091001, 9768)
            , (140303003, '교통사고 외상 치료', 20240303, 091001, 4234)
            , (140308087, '장염', 20240308, 062019, 7643);
select * from Treatments;

-- Charts 테이블
insert into Charts
	   values ('p_130516023', '감기 주사 및 약 처방', 130516023, 980312, 2345, 050302)
			, ('d_130628100', '피부 감염 방지 주사', 130628100, 020403, 3545, 040089)
            , ('r_131205056', '주사 처방', 131205056, 080543, 3424, 070605)
            , ('p_131218024', '귓속 청소 및 약 처방', 131218024, 050900, 7675, 100356)
            , ('i_131224012', '장염 입원 치료', 131224012, 000601, 4533, 070804)
            , ('d_140103001', '여드름 치료약 처방', 140103001, 070576, 5546, 120309)
            , ('i_140109026', '위내시경', 140109026, 050101, 4543, 070804)
            , ('s_140226102', '화상 크림약 처방', 140226102, 091001, 9768, 130211)
            , ('s_140303003', '입원 치료', 140303003, 091001, 4234, 130211)
            , ('p_140308087', '장염 입원 치료', 140308087, 062019, 7643, 071018);
select * from Charts;

-- 과제 4 - 데이터 변경(UPDATE) 및 삭제(DELETE)
/* 문제 1 - 홍길동 의사가 맡고 있던 담당진료과목이 피부과에서 소아과로 변경되어 내일부터 진료를 시작할 예정이다.
			이 정보에 대한 테이블 정보를 변경하시오.
*/
update Doctors
   set major_treat = '소아과'
 where doc_name = '홍길동';

select *
  from Doctors
 where doc_name = '홍길동';

/* 문제 2 - 라하나 간호사는 대학원 진학으로 오늘까지만 근무하고 퇴사하게 되었다.
			이 정보에 대한 테이블 정보를 변경하시오.
*/
select *
  from Nurses
 where nur_name = '라하나';

delete from Nurses
	  where nur_name = '라하나';

-- !삭제 안됨

-- 과제 5 - 데이터 검색(QUERY)
/* 문제 1 - 담당진료과목이 '소아과'인 의사에 대한 정보를 출력하시오.
*/
select *
  from Doctors
 where major_treat = '소아과';

/* 문제 2 - 홍길동 의사에게 진료받은 환자에 대한 모든 정보를 출력하시오.
*/
select *
  from Doctors as d join Patients as p
	on (d.doc_id = p.doc_id)
 where doc_name = '홍길동';

/* 문제 3 - 진료날짜가 2013년 12월인 환자에 대한 모든 정보를 오름차순 정렬하여 출력하시오.
*/
select p.*
	 , t.treat_date
  from Treatments as t join Patients as p on (p.pat_id = t.pat_id)
 where t.treat_date between '2023-12-01' and '2023-12-31'
 order by t.treat_date asc;

/* 문제 4 - 간호사 이름이 '김'으로 시작하는 모든 간호사 정보를 출력하시오.
*/
select *
  from Nurses
 where nur_name like '김%';